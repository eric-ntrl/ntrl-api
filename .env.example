# =============================================================================
# NTRL API Configuration
# =============================================================================
# Copy to .env and fill in required values.
# All vars map to app/config.py Settings fields.

# =============================================================================
# Database (required)
# =============================================================================

# PostgreSQL connection URL. Railway provides postgresql:// which is auto-converted
# to postgresql+psycopg2:// at startup.
DATABASE_URL=postgresql://user:pass@localhost:5432/ntrl

# =============================================================================
# Authentication (required)
# =============================================================================

# API key for admin endpoints (header: X-API-Key)
ADMIN_API_KEY=your-admin-api-key

# =============================================================================
# LLM Providers (at least one required for non-mock usage)
# =============================================================================

# OpenAI API key for neutralization, classification, span detection, optimization
OPENAI_API_KEY=sk-your-openai-key
# ANTHROPIC_API_KEY=              # Optional: Anthropic API key for evaluation and high-recall spans
# GOOGLE_API_KEY=                 # Optional: Google/Gemini API key (neutralizer gemini provider)
# GEMINI_API_KEY=                 # Optional: Alternative Gemini API key env var

# =============================================================================
# Neutralizer Configuration
# =============================================================================

# Active neutralizer provider: openai, gemini, anthropic, mock
# Default: openai
NEUTRALIZER_PROVIDER=openai

# OpenAI model for main neutralization
# Default: gpt-4o-mini
# OPENAI_MODEL=gpt-4o-mini

# Override model for detail_full neutralization (empty = use OPENAI_MODEL)
# Default: "" (empty)
# DETAIL_FULL_MODEL=gpt-5-mini

# =============================================================================
# Span Detection
# =============================================================================

# OpenAI model for span detection
# Default: gpt-5-mini
# SPAN_DETECTION_MODEL=gpt-5-mini

# Span detection mode: single (original) or multi_pass (99% recall target)
# Default: multi_pass
# SPAN_DETECTION_MODE=multi_pass

# Chunk size in characters for multi-pass detection
# Default: 3000
# SPAN_CHUNK_SIZE=3000

# Overlap between chunks in characters
# Default: 500
# SPAN_CHUNK_OVERLAP=500

# Model for high-recall first pass (Anthropic)
# Default: claude-haiku-4-5
# HIGH_RECALL_MODEL=claude-haiku-4-5

# Model for adversarial second pass (OpenAI)
# Default: gpt-5-mini
# ADVERSARIAL_MODEL=gpt-5-mini

# =============================================================================
# Classification
# =============================================================================

# OpenAI model for article classification
# Default: gpt-5-nano
# CLASSIFICATION_MODEL=gpt-5-nano

# =============================================================================
# Evaluation & Optimization (Teacher LLM)
# =============================================================================

# Model for evaluation/grading
# Default: claude-sonnet-4-6
# EVAL_MODEL=claude-sonnet-4-6

# Model for prompt improvement generation
# Default: gpt-5-mini
# OPTIMIZER_MODEL=gpt-5-mini

# =============================================================================
# Storage
# =============================================================================

# Storage provider: s3 (production) or local (development)
# Default: s3
STORAGE_PROVIDER=local

# Local storage path (used if STORAGE_PROVIDER=local)
# Default: ./storage
LOCAL_STORAGE_PATH=./storage

# S3 Configuration (required if STORAGE_PROVIDER=s3)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# S3_BUCKET=ntrl-raw-content

# =============================================================================
# Content Retention
# =============================================================================

# Days to retain raw article content in storage
# Default: 30
# RAW_CONTENT_RETENTION_DAYS=30

# =============================================================================
# Content Cleaning
# =============================================================================

# Enable content cleaning (UI artifact removal) before neutralization/classification
# Default: true
# CONTENT_CLEANING_ENABLED=true

# =============================================================================
# CORS
# =============================================================================

# Comma-separated list of allowed CORS origins
# Default: "" (empty, no CORS)
# CORS_ORIGINS=http://localhost:19006,http://localhost:8081

# =============================================================================
# Application
# =============================================================================

# Environment: development, staging, production
# Default: development
ENVIRONMENT=development

# =============================================================================
# Email Notifications
# =============================================================================

# Resend API key for evaluation email notifications
# RESEND_API_KEY=re-your-resend-key

# From address for email notifications
# Default: NTRL <notifications@ntrl.news>
# EMAIL_FROM=NTRL <notifications@ntrl.news>

# Default recipient for evaluation emails
# Default: eric@ntrl.news
# EMAIL_RECIPIENT=eric@ntrl.news

# Enable email notifications after evaluations
# Default: true
# EMAIL_ENABLED=true

# =============================================================================
# News API Sources (additive to RSS)
# =============================================================================

# Perigon News API - https://www.perigon.io
# PERIGON_API_KEY=pk-your-perigon-api-key
# Default: false
PERIGON_ENABLED=false

# NewsData.io - https://newsdata.io
# NEWSDATA_API_KEY=pub-your-newsdata-api-key
# Default: false
NEWSDATA_ENABLED=false
